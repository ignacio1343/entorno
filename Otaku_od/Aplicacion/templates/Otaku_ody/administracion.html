{% extends "Otaku_ody/adminnav.html" %}
{% load static %}
{% block contenido %}


<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Otaku Odyssey - Admin</title>
    <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">
    <link rel="stylesheet" href="{% static 'css/navbar.css' %}">
    <link rel="stylesheet" href="{% static 'css/admin.css' %}">
    <link href="https://cdn.lineicons.com/4.0/lineicons.css" rel="stylesheet">
</head>

<body class="body">
            <main class="content px-3 py-4">
                <div class="container-fluid">
                    <div class="mb-3">
                        <h3 class="fw-bold fs-4 mb-3">Panel de administrador</h3>
                        <div class="row">
                            {% if user.is_authenticated %}
                                {% csrf_token %}
                                <div class="col-12 col-md-4">
                                    <div class="card h-100"> <!-- Añadimos la clase h-100 para hacer que el div tenga la misma altura que los otros -->
                                        <img class="card img-fluid" src="{% static 'img/empresario.jpg' %}" alt="Card image" style="max-width: 100%; height: auto;">
                                        <div class="card-body d-flex flex-column justify-content-between"> <!-- Cambiamos la disposición del contenido de la tarjeta -->
                                            <div>
                                                <h4 class="card-title">Hola!, {{user.username}}</h4>
                                                <p class="card-text">Bienvenido nuevamente al panel de administrador.</p>
                                            </div>
                                            <a href="pedidos.html" class="btn btn-primary mt-auto">Revisar pedidos recientes</a> <!-- Alineamos el botón en la parte inferior -->
                                        </div>
                                    </div>
                                </div>
                            {% endif %}
                            
                            <div class="col-12 col-md-4">
                                <div class="card border-0">
                                    <div class="card-body py-4">
                                        <h5 class="mb-2 fw-bold">Ganancias del mes</h5>
                                    </div>
                                    <p class="mb-2 fw-bold">
                                        ${{ total_pedidos|floatformat:0 }}
                                    </p>
                                    <div class="mb-0">
                                        <span class="badge text-success me-2">
                                            +20%
                                        </span>
                                        <span class="fw-bold">
                                            Desde el ultimo mes
                                        </span>
                                    </div>
                                </div>
                            </div>
                                <div class="col-12 col-md-4">
                                    <div class="card border-0">
                                        <div class="card-body py-4">
                                            <h5 class="mb-2 fw-bold">Pedidos</h5>
                                        </div>
                                        <p class="mb-2 fw-bold">
                                            <i class="lni lni-layers"></i>
                                            110
                                        </p>
                                        <div class="mb-0">
                                            <span class="badge text-success me-2">
                                                +30%
                                            </span>
                                            <span class="fw-bold">
                                                Desde el ultimo mes
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-md-4">
                                <div class="card border-0">
                                    <div class="card-body py-4">
                                        <h5 class="mb-2 fw-bold">Productos vendidos totales</h5>
                                    </div>
                                    <p class="mb-2 fw-bold">
                                        <i class="lni lni-cart"></i>
                                        220
                                    </p>
                                    <div class="mb-0">
                                        <span class="badge text-success me-2">
                                            +6%
                                        </span>
                                        <span class="fw-bold">
                                            Desde el ultimo mes
                                        </span>
                                    </div>
                                </div>
                                <div class="row">
                                    <h3 class="fw-bold fs-4 my-3">Pedidos Entregados recientemente</h3>
                                    <div class="col-12">
                                        <table class="table table-stripped">
                                            <thead>
                                                <tr class="highlight">
                                                    <th>ID Pedido</th>
                                                    <th>Nombre</th>
                                                    <th>Apellido</th>
                                                    <th>Domicilio</th>
                                                    <th>Producto</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>1</td>
                                                    <td>Benjamin</td>
                                                    <td>Bello</td>
                                                    <td>Colo-Colo 1232, Calama</td>
                                                    <td>Figura Madara Uchiha a escala</td>
                                                </tr>
                                                <tr>
                                                    <td>2</td>
                                                    <td>Ignacio</td>
                                                    <td>Bustos</td>
                                                    <td>Caupolican 3201, Antofagasta</td>
                                                    <td>Tomos de manga Chainsaw Man 1/2</td>
                                                </tr>
                                                <tr>
                                                    <td>3</td>
                                                    <td>Mario</td>
                                                    <td>Zapata</td>
                                                    <td>Lo Barnechea 2314, Santiago</td>
                                                    <td>Figura Bakugo Katsuki</td>
                                                </tr>
                                                <tr>
                                                    <td>4</td>
                                                    <td>Benjamin</td>
                                                    <td>Fernandez</td>
                                                    <td>Paicavi, Alto Hospicio</td>
                                                    <td>Pines Demon Slayer</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>


    <script src="static/js/admin.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>

{% endblock contenido %}